/* eslint-disable no-unused-vars */
import { createTouchEvents, cyFocusCanvas, mouseEvent } from './utils'

describe('ToolManager', () => {
  beforeEach(() => {
    cy.visit('testing-e2e/tool-manager.html', {
      onBeforeLoad(win) {
        cy.spy(win, 'postMessage').as('postMessage')
      },
    })
  })

  // it('Defaults on Camera manipulator - Mouse - Left Btn', () => {
  //   cy.get('#renderer')
  //     .trigger('mousedown', mouseEvent(400, 100, 0))
  //     .trigger('mousemove', mouseEvent(450, 200, 0))
  //     .trigger('mouseup', mouseEvent(450, 200, 0))
  //     .percySnapshot('DefaultCamManMouseLeftBtn')
  // })

  // it('Defaults on Camera manipulator - Mouse - Right Btn', () => {
  //   cy.get('#renderer')
  //     .trigger('mousedown', mouseEvent(400, 100, 2))
  //     .trigger('mousemove', mouseEvent(500, 100, 2))
  //     .trigger('mouseup', mouseEvent(500, 100, 2))
  //     .percySnapshot('DefaultCamManMouseRightBtn')
  // })

  // it('Defaults on Camera manipulator - Touch', () => {
  //   const initTouch = createTouchEvents([400, 100])
  //   const finalTouch = createTouchEvents([450, 200])

  //   cy.get('#renderer')
  //     .trigger('touchstart', initTouch)
  //     .trigger('touchmove', finalTouch)
  //     .trigger('touchend', { ...finalTouch, touch: {} })
  //     .percySnapshot('DefaultCamManTouch')
  // })

  // it('Selects block and uses Camera Manipulator', () => {
  //   cy.get('#selection').click()
  //   cy.get('#renderer').click()
  //   cy.get('#renderer')
  //     .trigger('mousedown', 400, 300)
  //     .trigger('mousemove', 500, 400)
  //     .trigger('mouseup', 500, 400)
  //     .percySnapshot('SelectionToolSelectsBlock')

  //   cy.get('#renderer')
  //     .trigger('mousedown', mouseEvent(400, 100, 2))
  //     .trigger('mousemove', mouseEvent(500, 100, 2))
  //     .trigger('mouseup', mouseEvent(500, 100, 2))
  //     .percySnapshot('SelectionToolPanning')

  //   cy.get('#renderer').trigger('wheel', {
  //     deltaX: -0,
  //     deltaY: -200,
  //     deltaZ: 0,
  //   })

  //   cy.get('@postMessage').its('lastCall.args.0').should('equal', `done-moving-camera`)
  //   cy.get('#renderer').percySnapshot(`SelectionToolWheelZoomIn`)
  // })

  // it('Measures and uses Camera Manipulator', () => {
  //   cy.get('#selection').click()
  //   cy.get('#measurement').click()
  //   cy.get('#renderer')
  //     .trigger('mousedown', mouseEvent(450, 400))
  //     .trigger('mousemove', mouseEvent(550, 400))
  //     .trigger('mouseup', mouseEvent(550, 400))
  //     .percySnapshot('MeasurementToolMouse')

  //   cy.get('#renderer')
  //     .trigger('mousedown', mouseEvent(400, 100, 2))
  //     .trigger('mousemove', mouseEvent(500, 100, 2))
  //     .trigger('mouseup', mouseEvent(500, 100, 2))
  //     .percySnapshot('MeasurementToolPanning')

  //   cy.get('#renderer').trigger('wheel', {
  //     deltaX: -0,
  //     deltaY: -200,
  //     deltaZ: 0,
  //   })

  //   cy.get('@postMessage').its('lastCall.args.0').should('equal', `done-moving-camera`)
  //   cy.get('#renderer').percySnapshot(`MeasurementToolWheelZoomIn`)
  // })

  it('FreeHandLine and uses Camera Manipulator', () => {
    cy.get('#selection').click()
    cy.get('#measurement').click()
    cy.get('#free-hand-line').click()
    cy.get('#renderer')
      .trigger('mousedown', mouseEvent(404, 241, 0))
      .trigger('mousemove', mouseEvent(401, 241, 0))
      .trigger('mousemove', mouseEvent(399, 241, 0))
      .trigger('mousemove', mouseEvent(396, 242, 0))
      .trigger('mousemove', mouseEvent(393, 243, 0))
      .trigger('mousemove', mouseEvent(388, 244, 0))
      .trigger('mousemove', mouseEvent(385, 244, 0))
      .trigger('mousemove', mouseEvent(381, 244, 0))
      .trigger('mousemove', mouseEvent(378, 244, 0))
      .trigger('mousemove', mouseEvent(374, 246, 0))
      .trigger('mousemove', mouseEvent(371, 247, 0))
      .trigger('mousemove', mouseEvent(367, 248, 0))
      .trigger('mousemove', mouseEvent(365, 249, 0))
      .trigger('mousemove', mouseEvent(362, 249, 0))
      .trigger('mousemove', mouseEvent(360, 249, 0))
      .trigger('mousemove', mouseEvent(359, 250, 0))
      .trigger('mousemove', mouseEvent(356, 252, 0))
      .trigger('mousemove', mouseEvent(355, 252, 0))
      .trigger('mousemove', mouseEvent(354, 253, 0))
      .trigger('mousemove', mouseEvent(352, 254, 0))
      .trigger('mousemove', mouseEvent(348, 254, 0))
      .trigger('mousemove', mouseEvent(346, 254, 0))
      .trigger('mousemove', mouseEvent(343, 255, 0))
      .trigger('mousemove', mouseEvent(341, 255, 0))
      .trigger('mousemove', mouseEvent(340, 256, 0))
      .trigger('mousemove', mouseEvent(339, 256, 0))
      .trigger('mousemove', mouseEvent(339, 257, 0))
      .trigger('mousemove', mouseEvent(336, 257, 0))
      .trigger('mousemove', mouseEvent(335, 259, 0))
      .trigger('mousemove', mouseEvent(333, 260, 0))
      .trigger('mousemove', mouseEvent(332, 260, 0))
      .trigger('mousemove', mouseEvent(328, 261, 0))
      .trigger('mousemove', mouseEvent(326, 263, 0))
      .trigger('mousemove', mouseEvent(323, 265, 0))
      .trigger('mousemove', mouseEvent(321, 267, 0))
      .trigger('mousemove', mouseEvent(319, 267, 0))
      .trigger('mousemove', mouseEvent(316, 269, 0))
      .trigger('mousemove', mouseEvent(314, 269, 0))
      .trigger('mousemove', mouseEvent(313, 272, 0))
      .trigger('mousemove', mouseEvent(310, 273, 0))
      .trigger('mousemove', mouseEvent(309, 273, 0))
      .trigger('mousemove', mouseEvent(308, 274, 0))
      .trigger('mousemove', mouseEvent(307, 275, 0))
      .trigger('mousemove', mouseEvent(307, 276, 0))
      .trigger('mousemove', mouseEvent(306, 276, 0))
      .trigger('mousemove', mouseEvent(305, 277, 0))
      .trigger('mousemove', mouseEvent(303, 277, 0))
      .trigger('mousemove', mouseEvent(303, 279, 0))
      .trigger('mousemove', mouseEvent(302, 279, 0))
      .trigger('mousemove', mouseEvent(302, 280, 0))
      .trigger('mousemove', mouseEvent(301, 280, 0))
      .trigger('mousemove', mouseEvent(300, 281, 0))
      .trigger('mousemove', mouseEvent(300, 282, 0))
      .trigger('mousemove', mouseEvent(299, 282, 0))
      .trigger('mousemove', mouseEvent(299, 283, 0))
      .trigger('mousemove', mouseEvent(297, 285, 0))
      .trigger('mousemove', mouseEvent(297, 286, 0))
      .trigger('mousemove', mouseEvent(296, 286, 0))
      .trigger('mousemove', mouseEvent(295, 287, 0))
      .trigger('mousemove', mouseEvent(294, 289, 0))
      .trigger('mousemove', mouseEvent(293, 290, 0))
      .trigger('mousemove', mouseEvent(292, 294, 0))
      .trigger('mousemove', mouseEvent(292, 296, 0))
      .trigger('mousemove', mouseEvent(290, 299, 0))
      .trigger('mousemove', mouseEvent(289, 300, 0))
      .trigger('mousemove', mouseEvent(288, 302, 0))
      .trigger('mousemove', mouseEvent(288, 303, 0))
      .trigger('mousemove', mouseEvent(287, 305, 0))
      .trigger('mousemove', mouseEvent(286, 308, 0))
      .trigger('mousemove', mouseEvent(286, 310, 0))
      .trigger('mousemove', mouseEvent(286, 312, 0))
      .trigger('mousemove', mouseEvent(285, 314, 0))
      .trigger('mousemove', mouseEvent(283, 316, 0))
      .trigger('mousemove', mouseEvent(282, 320, 0))
      .trigger('mousemove', mouseEvent(282, 322, 0))
      .trigger('mousemove', mouseEvent(282, 325, 0))
      .trigger('mousemove', mouseEvent(282, 327, 0))
      .trigger('mousemove', mouseEvent(281, 329, 0))
      .trigger('mousemove', mouseEvent(281, 332, 0))
      .trigger('mousemove', mouseEvent(281, 335, 0))
      .trigger('mousemove', mouseEvent(280, 338, 0))
      .trigger('mousemove', mouseEvent(280, 340, 0))
      .trigger('mousemove', mouseEvent(280, 342, 0))
      .trigger('mousemove', mouseEvent(280, 345, 0))
      .trigger('mousemove', mouseEvent(280, 347, 0))
      .trigger('mousemove', mouseEvent(280, 351, 0))
      .trigger('mousemove', mouseEvent(280, 353, 0))
      .trigger('mousemove', mouseEvent(281, 355, 0))
      .trigger('mousemove', mouseEvent(281, 358, 0))
      .trigger('mousemove', mouseEvent(282, 360, 0))
      .trigger('mousemove', mouseEvent(282, 362, 0))
      .trigger('mousemove', mouseEvent(283, 365, 0))
      .trigger('mousemove', mouseEvent(285, 368, 0))
      .trigger('mousemove', mouseEvent(285, 371, 0))
      .trigger('mousemove', mouseEvent(285, 373, 0))
      .trigger('mousemove', mouseEvent(286, 375, 0))
      .trigger('mousemove', mouseEvent(287, 379, 0))
      .trigger('mousemove', mouseEvent(287, 381, 0))
      .trigger('mousemove', mouseEvent(288, 385, 0))
      .trigger('mousemove', mouseEvent(290, 387, 0))
      .trigger('mousemove', mouseEvent(290, 389, 0))
      .trigger('mousemove', mouseEvent(292, 392, 0))
      .trigger('mousemove', mouseEvent(293, 395, 0))
      .trigger('mousemove', mouseEvent(294, 396, 0))
      .trigger('mousemove', mouseEvent(295, 399, 0))
      .trigger('mousemove', mouseEvent(297, 402, 0))
      .trigger('mousemove', mouseEvent(299, 402, 0))
      .trigger('mousemove', mouseEvent(301, 406, 0))
      .trigger('mousemove', mouseEvent(302, 408, 0))
      .trigger('mousemove', mouseEvent(303, 411, 0))
      .trigger('mousemove', mouseEvent(305, 413, 0))
      .trigger('mousemove', mouseEvent(307, 415, 0))
      .trigger('mousemove', mouseEvent(309, 419, 0))
      .trigger('mousemove', mouseEvent(310, 420, 0))
      .trigger('mousemove', mouseEvent(314, 422, 0))
      .trigger('mousemove', mouseEvent(318, 422, 0))
      .trigger('mousemove', mouseEvent(321, 426, 0))
      .trigger('mousemove', mouseEvent(327, 429, 0))
      .trigger('mousemove', mouseEvent(334, 433, 0))
      .trigger('mousemove', mouseEvent(339, 436, 0))
      .trigger('mousemove', mouseEvent(346, 440, 0))
      .trigger('mousemove', mouseEvent(352, 442, 0))
      .trigger('mousemove', mouseEvent(359, 446, 0))
      .trigger('mousemove', mouseEvent(366, 448, 0))
      .trigger('mousemove', mouseEvent(371, 452, 0))
      .trigger('mousemove', mouseEvent(378, 454, 0))
      .trigger('mousemove', mouseEvent(385, 457, 0))
      .trigger('mousemove', mouseEvent(392, 459, 0))
      .trigger('mousemove', mouseEvent(398, 460, 0))
      .trigger('mouseup', mouseEvent(406, 461, 0))

    cy.get('#renderer')
      .trigger('mousedown', mouseEvent(400, 100, 2))
      .trigger('mousemove', mouseEvent(500, 100, 2))
      .trigger('mouseup', mouseEvent(500, 100, 2))
      .percySnapshot('FreeHandLineToolPanning')

    cy.get('#renderer').trigger('wheel', {
      deltaX: -0,
      deltaY: -200,
      deltaZ: 0,
    })

    cy.get('@postMessage').its('lastCall.args.0').should('equal', `done-moving-camera`)
    cy.get('#renderer').percySnapshot(`FreeHandLineToolWheelZoomIn`)
  })
})
