<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Parameters</title>

    <script src="http://localhost:3150/VisualiveEngineClient/lib/Visualive.js"></script>

    <!-- Use https://tachyons.io to normalize styles and add useful classes -->
    <link rel="stylesheet" href="https://unpkg.com/tachyons@4/css/tachyons.min.css"/>

    <!-- Material Design Lite -->
    <script src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
    <!-- Material Design icon font -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css">

  
    <link rel="stylesheet" href="../css/top-bar.css">
    <script type="module">
      
import {
  UndoRedoManager,
  ActionRegistry,
  TopMenuBar,
} from '../index.js';

const actionRegistry = new ActionRegistry()
const undoRedoManager = new UndoRedoManager();


actionRegistry.registerAction({
  path: ['Edit'],
  name: 'Undo',
  callback: () => {
    // console.log('Edit > Undo');
    undoRedoManager.undo();
  },
  metaKeys: {
    control: true,
  },
  key: 'z',
});

actionRegistry.registerAction({
  path: ['Edit'],
  name: 'Redo',
  callback: () => {
    console.log('Edit > Redo');
    undoRedoManager.redo();
  },
  metaKeys: {
    control: true,
    shift: true,
  },
  key: 'z',
});

actionRegistry.registerAction({
  path: ['View'],
  name: 'Show Inspector',
  callback: () => {
    // Replace whatever is in the right panel with the collaboration widget.
  },
});

actionRegistry.registerAction({
  path: ['View'],
  name: 'Show Collaboration Panel',
  callback: () => {
    // Replace whatever is in the right panel with the collaboration widget.
  },
});

actionRegistry.registerAction({
  name: 'Start VR',
  path: ['VR'],
  callback: () => {
    console.log('Start VR');
  },
});

actionRegistry.registerAction({
  path: ['Publish'],
  name: 'Publish to Web',
  callback: () => {
    // Replace whatever is in the right panel with the collaboration widget.
  }
})

const topMenuBar = new TopMenuBar(
  actionRegistry,
  document.getElementById('TopMenuWrapper')
);

    </script>

  </head>
  <body>

    <div class="HeaderWrapper bg-white pa2 bb">
      <div id="TopMenuWrapper" class="pure-menu pure-menu-horizontal ml3"></div>
    </div>

  </body>
</html>
